Модуль: Spring MVC.
Лекция: Аннотации @Controller и @RequestMapping.

Паттерн проектирования MVC.

MVC - это шаблон (или паттерн) проектирования, разделяющий архитектуру приложения на три компонента:
    *Model (или модель)
    *View (или представление)
    *Controller (или контроллер)
Такой подход позволяет изменять каждый компонент независимо друг от друга, что упрощает разработку и поддержу приложений.

Model - ответственный за данные приложения и за работу с этими данными.

View - ответственный за взаимодействие с пользователем, отображает данные и определяет внешний вид приложения.

Controller - ответственность за связь между Model и View. Именно здесь расположена основная логика приложения
или бизнес-логика.

ПРИМЕР:

Браузер пользователя -> данные HTTP-запрос -> Front Controller(сервер) -> Model -> Controller.

MVC на примере Spring.
Front Controller - это тоже паттерн проектирования, который обеспечивает единую точку входа в приложение. В Spring-e
Front Controller также известно под названием Dispatcher Servlet.

Controller - это "мозг" нашего приложения. Четких границ нет, сюда входят и классы-контроллеры, и классы-сервисы, и
классы-репозитории. В общем, все то, что содержит какую-то бизнес-логику.

Model - это просто данные, полученные от пользователя или из БД.

View - это веб-страницы, которые могут обогащаться данными из Model и возвращаться пользователю. Обычно веб-страницы
представлены в виде HTML, JSP или Thymeleaf-страниц.

Что такое JSP и Thymeleaf?
HTML - это язык разметки веб-страниц. Браузеры отображают HTML-разметку в виде интерфейса, который мы привыкли видеть.
HTML-страницы всегда статичны.

JSP (Java Server Page) - это по сути шаблон веб-страницы, который состоит из HTML с небольшим добавлением Java-кода
и/или специальных JSTL-тегов. Специальный движок подставляет в шаблон предоставленные ему данные и конвертирует
JSP-страницу в обычную HTML-страницу.

JSTL (Java Server Page Standard Tag Library) - это библиотека, которая предоставляет полезные теги для базовых
задач JSP (if-ы, циклы и.т.д.)

Thymeleaf - это более современный и альтернативный инструмент JSP + JSTL.

Из чего состоит Spring-приложение?
Spring-приложение глобально состоит из трех сопоставляющих.
    1. Конфигурации. Обычно это всегда сложно, но делается только один раз при создании приложения.
    2. Объявления бинов. Именно оно будет содержать основную бизнес-логику нашего приложения. Большую часть времени
    разработчик занимается именно этим.
    3. Веб-страница и их ресурсы. С помощью них пользователь будет взаимодействовать с нашим приложением. На верстку
    страниц обычно тоже уходит немало времени.

Конфигурация Spring-приложения.
    1. Через maven-webapp создаем новый проект.
    2. Добавляем нужные зависимости в pom.xml.
    3. Удаляем все ненужное: index.jsp, web.xml.
    4. Скачиваем Tomcat и связываем с веб-приложением.
    5. Добавляем недостающие папки в структуру проекта.
    6. Создаем WebConfig и ApplicationInitializer.
        Версия Spring 5.3.29 в новых версиях используется jakarta вместо javax

            @Configuration
            @EnableWebMvc
            @ComponentScan("com.suleymanov")
            public class WebConfig implements WebMvcConfigurer {
            }

            public class ApplicationInitializer implements WebApplicationInitializer {

                private static final String DISPATCHER = "dispatcher";


                @Override
                public void onStartup(ServletContext servletContext) throws ServletException {

                    AnnotationConfigWebApplicationContext  context = new AnnotationConfigWebApplicationContext();
                    context.register(WebConfig.class);
                    servletContext.addListener(new ContextLoaderListener(context));

                    ServletRegistration.Dynamic servlet = servletContext.addServlet(DISPATCHER, new DispatcherServlet(context));
                    servlet.addMapping("/");
                    servlet.setLoadOnStartup(1);

                }
            }

Аннотации @Controller и @RequestMapping

Аннотация @Controller - это специализированный @Component, который дополнительно сообщает DispatcherServlet-y о том,
что готов обрабатывать входящие запросы по URL-ам, которые указаны в классе при помощи аннотации @RequestMapping.

Аннотация @RequestMapping связывает метод контроллера с URL-ом веб-приложения.

Аннотация @requestMapping также можно использовать и для класса контроллера. В таком случае указанный URL будет
использовать в качестве префикса для всех методов, помеченных @RequestMapping.
